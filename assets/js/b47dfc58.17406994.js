"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[338],{1184:(e,n,a)=>{a.d(n,{R:()=>d,x:()=>o});var s=a(4041);const c={},i=s.createContext(c);function d(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),s.createElement(i.Provider,{value:n},e.children)}},5713:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>p,frontMatter:()=>d,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"apis/package-json","title":"Package.json","description":"Rules","source":"@site/docs/apis/package-json.md","sourceDirName":"apis","slug":"/apis/package-json","permalink":"/ngx-schematics-utilities/apis/package-json","draft":false,"unlisted":false,"editUrl":"https://github.com/dsi-hug/ngx-schematics-utilities/edit/main/docs/docs/apis/package-json.md","tags":[],"version":"current","frontMatter":{"title":"Package.json"},"sidebar":"docs","previous":{"title":"Angular","permalink":"/ngx-schematics-utilities/apis/angular"},"next":{"title":"Request","permalink":"/ngx-schematics-utilities/apis/request"}}');var c=a(1085),i=a(1184);const d={title:"Package.json"},o=void 0,t={},r=[{value:"Rules",id:"rules",level:2},{value:"<code>packageInstallTask</code>",id:"packageinstalltask",level:3},{value:"<code>addPackageJsonDependencies</code>",id:"addpackagejsondependencies",level:3},{value:"<code>addPackageJsonDevDependencies</code>",id:"addpackagejsondevdependencies",level:3},{value:"<code>addPackageJsonPeerDependencies</code>",id:"addpackagejsonpeerdependencies",level:3},{value:"<code>removePackageJsonDependencies</code>",id:"removepackagejsondependencies",level:3},{value:"<code>removePackageJsonDevDependencies</code>",id:"removepackagejsondevdependencies",level:3},{value:"<code>removePackageJsonPeerDependencies</code>",id:"removepackagejsonpeerdependencies",level:3}];function l(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"rules",children:"Rules"}),"\n",(0,c.jsx)(n.h3,{id:"packageinstalltask",children:(0,c.jsx)(n.code,{children:"packageInstallTask"})}),"\n",(0,c.jsx)(n.p,{children:"Triggers a package installation task using the user's preferred package manager."}),"\n",(0,c.jsx)(n.admonition,{title:"Note",type:"note",children:(0,c.jsxs)(n.p,{children:["By default the installation will only occur if any packages were previously added or removed to/from the ",(0,c.jsx)(n.code,{children:"package.json"})," file.",(0,c.jsx)("br",{}),"\nThis default behavior can be bypassed by setting the ",(0,c.jsx)(n.code,{children:"force"})," parameter to ",(0,c.jsx)(n.code,{children:"true"}),"."]})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:"{6,10}",children:"import { packageInstallTask, schematic, workspace } from '@hug/ngx-schematics-utilities';\nimport { Rule } from '@angular-devkit/schematics';\n\nexport default (options: any): Rule =>\n  schematic('my-schematic', [\n    packageInstallTask(),\n\n    // Using chainable\n    workspace()\n      .packageInstallTask()\n      .toRule()\n  ]);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"addpackagejsondependencies",children:(0,c.jsx)(n.code,{children:"addPackageJsonDependencies"})}),"\n",(0,c.jsxs)(n.p,{children:["Adds items to the ",(0,c.jsx)(n.code,{children:"dependencies"})," section of ",(0,c.jsx)(n.code,{children:"package.json"})," file."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:"{6,11}",children:"import { addPackageJsonDependencies, packageInstallTask, schematic, workspace } from '@hug/ngx-schematics-utilities';\nimport { Rule } from '@angular-devkit/schematics';\n\nexport default (options: any): Rule =>\n  schematic('my-schematic', [\n    addPackageJsonDependencies([ '@my/dep', { name: 'my-dep', version: '1.0.0' } ]),\n    packageInstallTask(),\n\n    // Using chainable\n    workspace()\n      .addPackageJsonDependencies([ '@my/dep', { name: 'my-dep', version: '1.0.0' } ])\n      .packageInstallTask()\n      .toRule()\n  ]);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"addpackagejsondevdependencies",children:(0,c.jsx)(n.code,{children:"addPackageJsonDevDependencies"})}),"\n",(0,c.jsxs)(n.p,{children:["Adds items to the ",(0,c.jsx)(n.code,{children:"devDependencies"})," section of ",(0,c.jsx)(n.code,{children:"package.json"})," file."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:"{6,11}",children:"import { addPackageJsonDevDependencies, packageInstallTask, schematic, workspace } from '@hug/ngx-schematics-utilities';\nimport { Rule } from '@angular-devkit/schematics';\n\nexport default (options: any): Rule =>\n  schematic('my-schematic', [\n    addPackageJsonDevDependencies([ '@my/dev-dep', { name: 'my-dev-dep', version: '1.0.0' } ]),\n    packageInstallTask(),\n\n    // Using chainable\n    workspace()\n      .addPackageJsonDevDependencies([ '@my/dev-dep', { name: 'my-dev-dep', version: '1.0.0' } ])\n      .packageInstallTask()\n      .toRule()\n  ]);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"addpackagejsonpeerdependencies",children:(0,c.jsx)(n.code,{children:"addPackageJsonPeerDependencies"})}),"\n",(0,c.jsxs)(n.p,{children:["Adds items to the ",(0,c.jsx)(n.code,{children:"peerDependencies"})," section of ",(0,c.jsx)(n.code,{children:"package.json"})," file."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:"{6,11}",children:"import { addPackageJsonPeerDependencies, packageInstallTask, schematic, workspace } from '@hug/ngx-schematics-utilities';\nimport { Rule } from '@angular-devkit/schematics';\n\nexport default (options: any): Rule =>\n  schematic('my-schematic', [\n    addPackageJsonPeerDependencies([ '@my/peer-dep', { name: 'my-peer-dep', version: '1.0.0' } ]),\n    packageInstallTask(),\n\n    // Using chainable\n    workspace()\n      addPackageJsonPeerDependencies([ '@my/peer-dep', { name: 'my-peer-dep', version: '1.0.0' } ])\n      .packageInstallTask()\n      .toRule()\n  ]);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"removepackagejsondependencies",children:(0,c.jsx)(n.code,{children:"removePackageJsonDependencies"})}),"\n",(0,c.jsxs)(n.p,{children:["Removes items from the ",(0,c.jsx)(n.code,{children:"dependencies"})," section of ",(0,c.jsx)(n.code,{children:"package.json"})," file."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:"{6,11}",children:"import { removePackageJsonDependencies, packageInstallTask, schematic, workspace } from '@hug/ngx-schematics-utilities';\nimport { Rule } from '@angular-devkit/schematics';\n\nexport default (options: any): Rule =>\n  schematic('my-schematic', [\n    removePackageJsonDependencies([ '@my/dep', { name: 'my-dep', version: '1.0.0' } ]),\n    packageInstallTask(),\n\n    // Using chainable\n    workspace()\n      .removePackageJsonDependencies([ '@my/dep', { name: 'my-dep', version: '1.0.0' } ])\n      .packageInstallTask()\n      .toRule()\n  ]);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"removepackagejsondevdependencies",children:(0,c.jsx)(n.code,{children:"removePackageJsonDevDependencies"})}),"\n",(0,c.jsxs)(n.p,{children:["Removes items from the ",(0,c.jsx)(n.code,{children:"devDependencies"})," section of ",(0,c.jsx)(n.code,{children:"package.json"})," file."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:"{6,11}",children:"import { removePackageJsonDevDependencies, packageInstallTask, schematic, workspace } from '@hug/ngx-schematics-utilities';\nimport { Rule } from '@angular-devkit/schematics';\n\nexport default (options: any): Rule =>\n  schematic('my-schematic', [\n    removePackageJsonDevDependencies([ '@my/dev-dep', { name: 'my-dev-dep', version: '1.0.0' } ]),\n    packageInstallTask(),\n\n    // Using chainable\n    workspace()\n      .removePackageJsonDevDependencies([ '@my/dev-dep', { name: 'my-dev-dep', version: '1.0.0' } ])\n      .packageInstallTask()\n      .toRule()\n  ]);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"removepackagejsonpeerdependencies",children:(0,c.jsx)(n.code,{children:"removePackageJsonPeerDependencies"})}),"\n",(0,c.jsxs)(n.p,{children:["Removes items from the ",(0,c.jsx)(n.code,{children:"peerDependencies"})," section of ",(0,c.jsx)(n.code,{children:"package.json"})," file."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:"{6,11}",children:"import { removePackageJsonPeerDependencies, packageInstallTask, schematic, workspace } from '@hug/ngx-schematics-utilities';\nimport { Rule } from '@angular-devkit/schematics';\n\nexport default (options: any): Rule =>\n  schematic('my-schematic', [\n    removePackageJsonPeerDependencies([ '@my/peer-dep', { name: 'my-peer-dep', version: '1.0.0' } ]),\n    packageInstallTask(),\n\n    // Using chainable\n    workspace()\n      .removePackageJsonPeerDependencies([ '@my/peer-dep', { name: 'my-peer-dep', version: '1.0.0' } ])\n      .packageInstallTask()\n      .toRule()\n  ]);\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}}}]);